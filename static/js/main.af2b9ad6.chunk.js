(this["webpackJsonpreact-gsheet-crud"]=this["webpackJsonpreact-gsheet-crud"]||[]).push([[0],{29:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(21),r=a.n(n),l=(a(29),a(6)),o=a(2),i=(a(30),a(31),a(0)),b=function(){return Object(i.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark mb-5",children:Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)(l.b,{className:"navbar-brand",to:"/",children:"AGC Agodo Members Directory"}),Object(i.jsx)("div",{children:Object(i.jsx)("ul",{className:"navbar-nav ms-auto mb-2 mb-lg-0",children:Object(i.jsx)("li",{className:"nav-item mt-1",children:Object(i.jsx)(l.b,{className:"btn btn-primary btn-sm",to:"/",children:"Home"})})})})]})})},m=a(3),d=a.n(m),j=a(7),h=a(11),u=function(){var e=Object(c.useState)(),t=Object(h.a)(e,2),a=t[0],s=t[1],n=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://sheet.best/api/sheets/84a3c6f5-bed8-4fb5-aeec-1a2fb70ec3aa?_format=index");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,s(Object.keys(a).map((function(e){return a[e]}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){n()}),[]);var r=function(){var e=Object(j.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://sheet.best/api/sheets/84a3c6f5-bed8-4fb5-aeec-1a2fb70ec3aa/".concat(t),{method:"DELETE"});case 3:e.sent.ok&&(c=a.filter((function(e,a){return a!==t})),s(c)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsx)("div",{className:"accordion",id:"accordionExample",children:null===a||void 0===a?void 0:a.map((function(e,t){return Object(i.jsxs)("div",{className:"accordion-item",children:[Object(i.jsx)("h2",{className:"accordion-header",id:"heading".concat(t),children:Object(i.jsxs)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse".concat(t),"aria-expanded":"true","aria-controls":"collapse".concat(t),children:[Object(i.jsx)("span",{className:"itemID",children:e.id}),Object(i.jsx)("span",{className:"itemID",children:e.surname}),Object(i.jsx)("span",{className:"itemID",children:e.otherName}),Object(i.jsx)("span",{className:"itemID",children:e.gender}),Object(i.jsx)("span",{className:"itemID",children:e.phoneNumber}),Object(i.jsx)("span",{className:"itemID",children:e.department}),Object(i.jsx)("span",{className:"itemID",children:e.membershipStatus})]})}),Object(i.jsx)("div",{id:"collapse".concat(t),className:"accordion-collapse collapse","aria-labelledby":"heading".concat(t),"data-bs-parent":"#accordionExample",children:Object(i.jsxs)("div",{className:"accordion-body",children:[Object(i.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[e.surname,e.otherName,e.gender,e.phoneNumber,e.department,e.membershipStatus,Object(i.jsxs)("span",{children:[Object(i.jsx)("strong",{className:"display-6",children:e.id})," ---"," ",e.surname]}),Object(i.jsxs)("span",{children:[Object(i.jsx)(l.b,{to:"/edit/".concat(t),style:{textDecoration:"none"},children:"Edit"}),Object(i.jsx)("button",{className:"btn btn-sm btn-danger ms-1",onClick:function(){return r(t)},children:"X"})]})]}),Object(i.jsx)("p",{children:e.message})]})})]},t)}))})},x=a(12),p=a(5),O=function(){var e=Object(o.f)(),t=Object(c.useState)({name:"",email:"",message:"",date:(new Date).toString()}),a=Object(h.a)(t,2),s=a[0],n=a[1],r=function(e){return n(Object(p.a)(Object(p.a)({},s),{},Object(x.a)({},e.target.name,e.target.value)))},l=function(){var t=Object(j.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,fetch("https://sheet.best/api/sheets/bff990d0-8ada-43e9-97eb-0ad668bb19ec",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 4:t.sent.ok&&e.replace("/"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(i.jsxs)("form",{style:{maxWidth:500,margin:"auto"},onSubmit:l,children:[Object(i.jsx)("h1",{className:"text-muted text-center",children:"Add"}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"name",value:s.name,onChange:r})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(i.jsx)("input",{type:"email",className:"form-control",name:"email",value:s.email,onChange:r})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"message",className:"form-label",children:"Message"}),Object(i.jsx)("textarea",{name:"message",cols:"30",rows:"3",className:"form-control",value:s.message,onChange:r})]}),Object(i.jsx)("div",{className:"text-center",children:Object(i.jsx)("button",{className:"btn btn-primary",children:"Add"})})]})},f=function(){var e=Object(o.f)(),t=Object(o.g)().rowIndex,a=Object(c.useState)({name:"",email:"",message:"",date:(new Date).toString()}),s=Object(h.a)(a,2),n=s[0],r=s[1],l=function(){var e=Object(j.a)(d.a.mark((function e(){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://sheet.best/api/sheets/bff990d0-8ada-43e9-97eb-0ad668bb19ec/".concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:c=e.sent,r(c[0]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){l()}),[]);var b=function(e){return r(Object(p.a)(Object(p.a)({},n),{},Object(x.a)({},e.target.name,e.target.value)))},m=function(){var a=Object(j.a)(d.a.mark((function a(c){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),a.prev=1,a.next=4,fetch("https://sheet.best/api/sheets/bff990d0-8ada-43e9-97eb-0ad668bb19ec/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:a.sent.ok&&e.replace("/"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}();return Object(i.jsxs)("form",{style:{maxWidth:500,margin:"auto"},onSubmit:m,children:[Object(i.jsx)("h1",{className:"text-muted text-center",children:"Edit"}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"name",value:n.name,onChange:b})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(i.jsx)("input",{type:"email",className:"form-control",name:"email",value:n.email,onChange:b})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"message",className:"form-label",children:"Message"}),Object(i.jsx)("textarea",{name:"message",cols:"30",rows:"3",className:"form-control",value:n.message,onChange:b})]}),Object(i.jsx)("div",{className:"text-center",children:Object(i.jsx)("button",{className:"btn btn-primary",children:"Update"})})]})},v=a(41),N=function(){var e=Object(c.useState)(),t=Object(h.a)(e,2),a=t[0],s=t[1],n=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://sheet.best/api/sheets/84a3c6f5-bed8-4fb5-aeec-1a2fb70ec3aa?_format=index");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,s(Object.keys(a).map((function(e){return a[e]}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){n()}),[]),Object(i.jsxs)(v.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"#"}),Object(i.jsx)("th",{children:"Surname"}),Object(i.jsx)("th",{children:"Other Name"}),Object(i.jsx)("th",{children:"Gender"}),Object(i.jsx)("th",{children:"Phone Number"}),Object(i.jsx)("th",{children:"Department"}),Object(i.jsx)("th",{children:"M. Status"})]})}),null===a||void 0===a?void 0:a.map((function(e,t){return Object(i.jsx)("tbody",{children:Object(i.jsxs)("tr",{className:"accordion",id:"accordionExample",children:[Object(i.jsx)("td",{children:e.id}),Object(i.jsx)("td",{children:e.surname}),Object(i.jsx)("td",{children:e.otherName}),Object(i.jsx)("td",{children:e.gender}),Object(i.jsx)("td",{children:e.phoneNumber}),Object(i.jsx)("td",{children:e.department}),Object(i.jsx)("td",{children:e.membershipStatus}),Object(i.jsxs)("td",{children:[" ",Object(i.jsx)(l.b,{to:"/view/".concat(t),style:{textDecoration:"none"},children:"View"})]})]})})}))]})},g=function(){Object(o.f)();var e=Object(o.g)().rowIndex,t=Object(c.useState)({surname:"",otherName:"",gender:"",department:"",membershipStatus:"",address:""}),a=Object(h.a)(t,2),s=a[0],n=a[1],r=function(){var t=Object(j.a)(d.a.mark((function t(){var a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://sheet.best/api/sheets/84a3c6f5-bed8-4fb5-aeec-1a2fb70ec3aa/".concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:c=t.sent,n(c[0]),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){r()}),[]);return Object(i.jsxs)("form",{style:{maxWidth:700,margin:"auto"},children:[Object(i.jsx)("img",{style:{width:"20%",height:"20%",display:"block",margin:"0 auto 0 auto"},src:"https://res.cloudinary.com/dzsp4g9vd/image/upload/v1654339758/agc-agodo/logo/ag-logo.jpg"}),Object(i.jsx)("h1",{className:"text-muted text-center",children:"Member Details"}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"surname",className:"form-label",children:"Full Name"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"name",disabled:!0,value:s.surname+" "+s.otherName})]}),Object(i.jsxs)("div",{className:"row mb-3",children:[Object(i.jsxs)("div",{className:"col",children:[Object(i.jsx)("label",{htmlFor:"gender",className:"form-label",children:"Gender"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"gender",disabled:!0,value:s.gender})]}),Object(i.jsxs)("div",{className:"col",children:[Object(i.jsx)("label",{htmlFor:"martialStatus",className:"form-label",children:"Marital Status"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"martialStatus",disabled:!0,value:s.maritalStatus})]})]}),Object(i.jsxs)("div",{className:"row mb-3",children:[Object(i.jsxs)("div",{className:"col",children:[Object(i.jsx)("label",{htmlFor:"otherName",className:"form-label",children:"Department"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"gender",disabled:!0,value:s.department})]}),Object(i.jsxs)("div",{className:"col",children:[Object(i.jsx)("label",{htmlFor:"otherName",className:"form-label",children:"Membership Status"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"gender",disabled:!0,value:s.membershipStatus})]})]}),Object(i.jsx)("div",{children:Object(i.jsx)("hr",{})}),Object(i.jsxs)("div",{className:"row mb-3",children:[Object(i.jsxs)("div",{className:"col",children:[Object(i.jsx)("label",{htmlFor:"otherName",className:"form-label",children:"State"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"state",disabled:!0,value:s.state})]}),Object(i.jsxs)("div",{className:"col",children:[Object(i.jsx)("label",{htmlFor:"otherName",className:"form-label",children:"LGA"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"lga",disabled:!0,value:s.lga})]}),Object(i.jsxs)("div",{className:"col",children:[Object(i.jsx)("label",{htmlFor:"otherName",className:"form-label",children:"Town"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"town",disabled:!0,value:s.town})]})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"membershipStatus",className:"form-label",children:"Current Address"}),Object(i.jsx)("textarea",{name:"address",disabled:!0,cols:"30",rows:"3",className:"form-control",value:s.address})]}),Object(i.jsx)("div",{className:"text-center",children:Object(i.jsx)("button",{className:"col-lg btn btn-primary",style:{},onClick:window.print,children:"Print Data"})})]})};var y=function(){return Object(i.jsxs)(l.a,{children:[Object(i.jsx)(b,{}),Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)(o.c,{children:[Object(i.jsx)(o.a,{exact:!0,path:"/",component:N}),Object(i.jsx)(o.a,{exact:!0,path:"/home",component:u}),Object(i.jsx)(o.a,{exact:!0,path:"/add",component:O}),Object(i.jsx)(o.a,{exact:!0,path:"/edit/:rowIndex",component:f}),Object(i.jsx)(o.a,{exact:!0,path:"/view/:rowIndex",component:g})]})})]})};r.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(y,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.af2b9ad6.chunk.js.map